# 缓存设置

控制编译缓存以加速重复编译的设置。

## 启用缓存

### `cph-ng.cache.enabled`

- **类型**：布尔值
- **默认值**：`true`
- **用户影响**：启用时，编译的二进制文件被缓存。如果源代码和编译器设置未更改，则重用缓存的二进制文件，大大加快测试运行速度。

**示例**：

```json
{
    "cph-ng.cache.enabled": false
}
```

## 缓存大小限制

### `cph-ng.cache.maxSize`

- **类型**：数字
- **默认值**：`100`（MB）
- **用户影响**：缓存可以使用的最大磁盘空间。超过时，删除最旧的条目。

**示例**：

```json
{
    "cph-ng.cache.maxSize": 200
}
```

## 工作原理

编译时：

1. 计算源代码和编译器设置的哈希值
2. 检查缓存中是否存在匹配的二进制文件
3. 如果找到且有效：使用缓存的二进制文件（非常快）
4. 如果未找到：编译并将结果存储在缓存中

## 磁盘操作

缓存文件存储在：

- 位置：`.cph-ng/cache/` 文件夹
- 文件名：基于源和设置的哈希值
- 大小：受 `maxSize` 限制
- 清理：超过限制时自动删除旧条目

## 何时禁用缓存

- 调试编译器题目
- 测试不同的编译器设置
- 磁盘空间有限

## 相关功能

- [编译设置](compilation.md) - 影响缓存键
- [运行单个测试](../features/run-single-test.md) - 使用缓存加速
