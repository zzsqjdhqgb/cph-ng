# 删除题目

从工作区删除题目及其数据。

## 概述

删除题目功能会永久删除与当前源文件关联的题目。这会删除包含元数据和测试用例的题目文件，但不会影响您的源代码文件。

## 用户交互

### 触发功能

**方法：删除按钮**

- 点击删除/垃圾桶图标按钮（题目操作面板中最右侧的按钮）
- 删除前会出现确认对话框

### 前置条件

- 当前文件必须已加载题目
- 题目面板必须可见

### UI 组件

**删除按钮**：

- 图标：垃圾桶/删除图标
- 颜色：红色（错误颜色）以指示破坏性操作
- 位置：操作面板中最右侧的按钮

**确认对话框**：

- 标题：确认删除操作
- 内容：警告操作无法撤消
- 按钮：取消或确认

## 内部操作

### 工作原理

1. **用户点击删除**：点击删除按钮
2. **显示确认**：模态对话框请求确认
3. **用户确认**：用户点击对话框中的确认按钮
4. **删除文件**：从文件系统删除题目二进制文件
5. **从内存中删除**：从活动题目列表中删除题目
6. **更新 UI**：侧边栏返回到"无题目"状态
7. **保留源代码**：源代码文件保持不变

### 被删除的内容

- 题目元数据（名称、URL、限制）
- 所有测试用例（输入和输出）
- 题目配置（SPJ、交互器设置）
- 执行历史和计时数据
- `.cph-ng/*.bin` 题目文件

### 被保留的内容

- 源代码文件
- 编译的可执行文件（在缓存中）
- 工作区中的其他题目

## 安全功能

### 需要确认

删除需要明确确认以防止意外数据丢失。确认对话框明确说明操作无法撤消。

### 源代码受保护

仅删除题目元数据文件。您的源代码保持安全且不变。

## 错误处理

### 删除失败

**文件未找到**：

- 题目文件可能已被删除
- 显示警告但操作继续

**权限错误**：

- 删除文件的权限不足
- 显示错误消息
- 题目保留在系统中

## 工作流程示例

### 删除旧题目

1. 打开要删除题目的文件
2. 题目面板显示在侧边栏中
3. 点击红色删除/垃圾桶图标（最右侧按钮）
4. 出现确认对话框："您确定吗？"
5. 点击"确认"继续或"取消"中止
6. 题目被删除
7. 侧边栏显示"无题目"状态
8. 源代码文件未更改

### 删除后

- 可以为同一源文件创建新题目
- 如果可用，可以导入 CPH 数据
- 所有测试运行和结果都丢失
- 如果重新创建需要再次设置测试用例

## 相关功能

- [创建题目](create-problem.md) - 删除后创建新题目
- [导入题目](import-problem.md) - 如果可用，导入 CPH 数据
- [编辑题目](edit-problem.md) - 修复题目的替代方案，无需删除
